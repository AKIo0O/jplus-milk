/** * @author xuld *//** * 所有表单输入控件实现的接口。 * @interface IInput */var IInput = {		/**	 * 当设置文本时执行此函数。
	 */	onChange: function(fromValue, toValue){		this.trigger('change');	},		/**	 * 获取当前输入域实际用于提交数据的表单域。	 * @return {Dom} 一个用于提交表单的数据域。	 */	input: function(){				// 如果不存在隐藏域。		if(!this.hiddenField) {						// 如果 当前元素是表单元素，直接返回。			if(/^(INPUT|SELECT|TEXTAREA|BUTTON)$/.test(this.node.tagName)){				return this;			}						this.hiddenField = Dom.parse('<input type="hidden">').appendTo(this);			this.hiddenField.setAttr('name', Dom.getAttr(this.node, 'name'));		}				return this.hiddenField;	},		form: function () {		return Dom.get(this.input().node.form);	},		clear: function(){		this.input().setText('');		return this;	},		select: function(){		Dom.prototype.select.call(this.input());		return this;	},		setAttr: function (name, value) {		var dom = this;		if(/^(disabled|readonly|name)$/i.test(name)){			if(/^disabled$/i.test(name)) {				return this.disabled(value);			} else if(/^readonly$/i.test(name)) {				return this.readOnly(value);			} 						dom = this.input();		}		return Dom.prototype.setAttr.call(dom, name, value);	},		getAttr: function (name, type) {		return Dom.getAttr((/^(disabled|readonly|name|form)$/i.test(name) ? this.input() : this).node, name, type);	},		getText: function(){		return Dom.getText(this.input().node);	},		setText: function(value){		var old = this.getText();		Dom.prototype.setText.call(this.input(), value);		if(old !== value)			this.onChange(old, value);	}	};Object.map("disabled readOnly", function(funcName){	IInput[funcName] = function(value){		value = value !== false;		this.toggleClass('x-' + this.xtype + '-' + funcName.toLowerCase(), value);		return Dom.prototype.setAttr.call(this.input(), funcName, value);	};});