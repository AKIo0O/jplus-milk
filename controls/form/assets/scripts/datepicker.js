/** * @author  */imports("Controls.Display.Icon");using("Controls.Core.IMenuContainer");using("Controls.Form.CombinedTextBox");using("Controls.Form.MonthCalender");var DatePicker = CombinedTextBox.extend(IMenuContainer).implement({		menuWidth: -1,		init: function (options) {		this.base('init');		this.setMenu(new MonthCalender().on('select', this.onSelect, this));		this.menuButton.on('click', this.toggleMenu, this);		this.find('.x-button-menu').node.className = 'x-icon x-icon-calendar';		this.on('focus', this.showMenu);		this.on('change', this.updateValue);			}, 		format: 'yyyy/M/d',		onSelect: function (value) {		this.setValue(value);				this.hideMenu();	},		updateValue: function(){		var d = new Date(this.getText());		if(!isNaN(d.getYear()))			this.menu.setValue(d);	},		getValue: function(){		return this.menu.getValue();	},		setValue: function(value){		this.setText(value.toString(this.format));		this.menu.setValue(value);		return this;	}});